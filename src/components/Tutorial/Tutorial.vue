<template>
  <button
	@click="startTutorial"
	class="fixed bottom-4 right-4 bg-azure-800 text-white p-3 rounded-full shadow-lg hover:bg-azure-900 transition-colors z-50"
	title="Iniciar Tutorial"
  >
	<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
	  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
	</svg>
  </button>
</template>

<script setup>
import { driver } from 'driver.js';
import 'driver.js/dist/driver.css';


const driverObj = driver({
	showProgress: true,
	showButtons: ['next', 'previous', 'close'],
	nextBtnText: 'Pr√≥ximo',
	prevBtnText: 'Anterior', 
	doneBtnText: 'Fim',
	closeBtnText: 'Voltar',
	progressText: 'Previewing {{current}}/{{total}}',
	popoverClass: 'userguiding-theme',
	overlayColor: 'rgba(0, 0, 0, 0.5)',
	allowClose: false,
	steps: [
		// Step 1/17 - Boas vindas
		{
			popover: {
				title: 'üëã Bem-vindo ao painel de gratifica√ß√£o',
				description: 'Estamos felizes por voc√™ estar aqui! Este tutorial r√°pido vai te ajudar a entender todas as informa√ß√µes importantes sobre sua gratifica√ß√£o.<br><br><strong>Verifique se seus dados est√£o corretos.</strong>',
				position: 'center'
			}
		},
		// Step 2/17 - Nome do servidor
		{
			element: '#tutorial-server-name',
			popover: {
				title: 'Nome do servidor',
				description: 'Este √© o nome registrado no sistema para a gratifica√ß√£o.',
				position: 'bottom'
			}
		},
		// Step 3/17 - Valor
		{
			element: '#tutorial-value',
			popover: {
				title: 'Seu Valor de Gratifica√ß√£o',
				description: 'Aqui voc√™ visualiza o valor bruto da sua gratifica√ß√£o. Lembre-se que este valor n√£o inclui os descontos de impostos.',
				position: 'bottom'
			}
		},
		// Step 4/17 - Aviso
		{
			element: '#tutorial-warning',
			popover: {
				title: 'Os valores mostrados s√£o brutos, sem os descontos de impostos que podem ser aplicados.',
				description: '',
				position: 'top'
			}
		},
		// Step 5/17 - Clique aqui para ver mais
		{
			element: '#tutorial-details',
			popover: {
				title: 'Clique aqui para ver mais...',
				description: '',
				position: 'top'
			}
		},
		// Step 6/17 - Matr√≠culas ativas
		{
			element: '#tutorial-matricula-0',
			popover: {
				title: 'Visualize neste campo cada uma das suas matr√≠culas que est√£o atualmente ativas no sistema.',
				description: '',
				position: 'top'
			}
		},
		// Step 7/17 - Dados da matr√≠cula
		{
			element: '#painel-infos',
			popover: {
				title: 'Aqui est√£o os seus dados da sua matr√≠cula',
				description: '',
				position: 'top'
			}
		},
		// Step 8/17 - Certifique dados
		{
			element: '#tutorial-table-dados',
			popover: {
				title: 'Nesse quadro mostra seus dados. Certifique que todos est√£o corretos!',
				description: '',
				position: 'top'
			}
		},
		// Step 9/17 - Valor total da rede
		{
			element: '#tutorial-valor-rede',
			popover: {
				title: 'Aqui mostra o valor total da sua rede.',
				description: '',
				position: 'top'
			}
		},
		// Step 10/17 - Valor m√°ximo por unidade  
		{
			element: '#tutorial-valor-unidade',
			popover: {
				title: 'Aqui mostra o valor m√°ximo recebido por unidade.',
				description: '',
				position: 'top'
			}
		},
		// Step 11/17 - Desconto
		{
			element: '#tutorial-desconto',
			popover: {
				title: 'Nesse campo mostra o desconto.',
				description: '',
				position: 'top'
			}
		},
		// Step 12/17 - Valor total que ir√° receber
		{
			element: '#tutorial-valor-total',
			popover: {
				title: '√â aqui, mostra o valor total que voc√™ ira receber.',
				description: '',
				position: 'top'
			}
		},
		// Step 13/17 - Crit√©rios  
		{
			element: '#tutorial-criteria',
			popover: {
				title: 'Esta tabela mostra os 4 crit√©rios principais: frequ√™ncia (m√≠n. 96%), tempo de atua√ß√£o (m√≠n. 6 meses), Forma√ß√£o e Atividades. Cada um, mostra se voc√™ est√° "Apto" ou "N√£o Apto".',
				description: '',
				position: 'top'
			}
		},
		// Step 14/17 - Aloca√ß√µes
		{
			element: '#tutorial-allocations',
			popover: {
				title: 'Aqui voc√™ v√™ onde trabalhou durante o per√≠odo, incluindo: unidade escolar, per√≠odo (in√≠cio/fim), fun√ß√£o exercida, carga hor√°ria e grupo de gratifica√ß√£o.',
				description: '',
				position: 'top'
			}
		},
		// Step 15/17 - Frequ√™ncia/Afastamentos
		{
			element: '#tutorial-frequency',
			popover: {
				title: 'Esta se√ß√£o mostra todos os seus afastamentos registrados: licen√ßas, faltas justificadas, etc. Mostra as datas, tipo de afastamento e se foram contabilizados para o c√°lculo.',
				description: '',
				position: 'top'
			}
		},
		// Step 16/17 - Recurso
		{
			element: '#tutorial-resource',
			popover: {
				title: 'Se voc√™ acha que alguma informa√ß√£o est√° incorreta ou quer contestar algum crit√©rio, clique em "Recurso". Voc√™ pode anexar documentos para comprovar seu ponto de vista.',
				description: '',
				position: 'left'
			}
		},
		// Step 17/17 - Conclus√£o
		{
			popover: {
				title: 'Voc√™ concluiu o tutorial!',
				description: 'Agora voc√™ est√° pronto para navegar pelo painel de gratifica√ß√£o e acompanhar as informa√ß√µes com facilidade.',
				position: 'center'
			}
		}
	]
});

const startTutorial = () => {
	driverObj.drive();
};
</script>

<style scoped>
/* Bot√£o j√° estilizado, tema do popover √© global */
</style>
